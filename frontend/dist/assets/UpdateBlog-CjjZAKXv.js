import{e as j,u as N,b as y,a as v,r as l,g as w,j as e,B,o as D}from"./index-CIdNl9wH.js";function E(){const{id:a}=j(),i=N(),g=y(),{currentBlog:o,status:c,error:d}=v(t=>t.blog),[p,f]=l.useState([]),[n,m]=l.useState({title:"",description:""});l.useEffect(()=>{!o||o._id!==a?i(w(a)):m({title:o.title||"",description:o.description||""})},[o,a,i]);const u=t=>{const{name:s,value:r}=t.target;m(b=>({...b,[s]:r}))},x=t=>{f(Array.from(t.target.files))},h=t=>{t.preventDefault();const s=new FormData;s.append("title",n.title),s.append("description",n.description),p.forEach(r=>s.append("images",r)),i(D({id:a,updateData:s})).unwrap().then(()=>g(`/userpage/${a}`)).catch(r=>console.error("Update error:",r))};return e.jsx("div",{className:"w-full min-h-screen flex justify-center items-center bg-gradient-to-br from-blue-900 to-indigo-900 p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 transform hover:scale-105 transition-transform duration-300",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-center text-indigo-700 mb-6",children:"Update Blog"}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold mb-1",children:"Title"}),e.jsx("input",{name:"title",value:n.title,onChange:u,required:!0,placeholder:"Enter blog title",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold mb-1",children:"Image URL"}),e.jsx("input",{name:"files",type:"file",multiple:!0,onChange:x,placeholder:"https://example.com/image.jpg",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:n.description,onChange:u,required:!0,placeholder:"Write your blog description...",className:"px-4 py-2 border border-gray-300 rounded-lg h-32 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-400"})]}),e.jsx(B,{type:"submit",name:c==="loading"?"Updating...":"Update Blog",className:"bg-indigo-600 active:scale-95 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg mt-2 transition-colors duration-300",disabled:c==="loading"})]}),d&&e.jsx("p",{className:"text-red-500 mt-3 text-center font-medium",children:d})]})})}export{E as default};
