import{R as h,u as m,a as x,r as l,n as u,g as p,q as v,j as e,L as n}from"./index-CIdNl9wH.js";import{H as f}from"./heart-CiFfijcn.js";const N=h.memo(({blog:t})=>{const a=m(),{user:s}=x(i=>i.auth),c=s?t?.like?.includes(s._id):!1,r=s?.saveBlogs?.includes(t?._id),o=l.useCallback(()=>{if(!s)return alert("Login first");a(u(t._id)).then(()=>a(p(t._id)))},[a,t._id,s]),d=l.useCallback(i=>{if(i.preventDefault(),i.stopPropagation(),!s)return alert("Login first");a(v(t._id)).then(()=>alert(`${r?"unsave":"Saved"}`))},[a,t._id,s,r]);return e.jsxs("div",{className:"bg-white rounded-3xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden group relative",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx(n,{to:`/userpage/${t._id}`,children:e.jsx("img",{src:t.image?.[0],alt:t.title,className:"w-full h-60 object-cover group-hover:scale-110 transition duration-500"})}),e.jsx("button",{onClick:d,className:"absolute top-3 right-3 cursor-pointer z-20 opacity-0 group-hover:opacity-75 bg-white/90 hover:bg-gray-300 p-2 rounded-md shadow-md transition-all duration-300",children:r?"Saved":"Save"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-90 pointer-events-none"}),e.jsx(n,{to:`/userpage/${t._id}`,children:e.jsx("h2",{className:"absolute bottom-4 left-4 right-4 text-white text-xl font-bold line-clamp-2",children:t.title})})]}),e.jsxs("div",{className:"p-5 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.author?.image||"https://via.placeholder.com/150",alt:"author",className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:t.author?.username||t.title||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx(n,{to:`/userpage/${t._id}`,className:"text-sm font-semibold text-indigo-600 hover:underline",children:"Read more â†’"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{size:16,onClick:o,className:`cursor-pointer active:scale-90 ${c?"text-red-500 fill-red-500 ":"text-gray-700"}`}),e.jsx("span",{className:"text-sm",children:t.like?.length||0})]})]})]})]})});export{N as B};
