import{u,a as x,r as c,f as h,b as f,j as e}from"./index-CnFdDQzR.js";import{B as p}from"./BlogCard-6PgtKGj_.js";import"./heart-CHAS5O9B.js";function N(){const r=u(),{blog:a,status:i,error:d}=x(t=>t.blog),{user:s}=x(t=>t.auth),[l,g]=c.useState("all");console.log(s);const m=Array.isArray(a)?a.filter(t=>{let o=new Date(t.createdAt),n=new Date;return l==="today"?n.toDateString()===o.toDateString():l==="7days"?(n-o)/(1e3*60*60*24)<=7:l==="30days"?(n-o)/(1e3*60*60*24)<=30:!0}):[];return c.useEffect(()=>{r(h()),r(f())},[r]),c.useEffect(()=>{console.log("user",s)},[s]),e.jsxs("div",{className:"min-h-screen bg-[#f8fafc] px-6 py-10",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-12 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[s?e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:s.username}):e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:"hello"}),e.jsx("p",{className:"text-gray-500 mt-2 text-base md:text-lg",children:"Blogs, thoughts & ideas worth sharing"})]}),e.jsx("img",{src:s?.image,alt:"profile",onError:t=>{console.log("IMAGE FAILED:",t.target.src),t.target.src="https://via.placeholder.com/600x400"}}),e.jsxs("div",{className:"bg-white shadow-lg border rounded-lg px-4 py-3 w-full md:w-60",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"FILTER BY DATE"}),e.jsxs("select",{value:l,onChange:t=>g(t.target.value),className:"w-full text-sm  border-none cursor-pointer  focus:ring-0 focus:outline-none text-gray-700",children:[e.jsx("option",{value:"all",children:"All blogs"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"7days",children:"Last 7 days"}),e.jsx("option",{value:"30days",children:"Last 30 days"})]})]})]}),i==="loading"&&e.jsx("p",{className:"text-center text-gray-500",children:"Loading blogs..."}),d&&e.jsx("p",{className:"text-center text-red-500",children:d}),Array.isArray(a)&&a.length>0?e.jsx("div",{className:"max-w-7xl mx-auto grid gap-10 sm:grid-cols-2 lg:grid-cols-3",children:m.map(t=>e.jsx(p,{blog:t},t._id))}):i!=="loading"&&e.jsx("p",{className:"text-center text-gray-400 mt-20",children:"No blogs found."})]})}export{N as default};
